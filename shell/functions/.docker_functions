docker_ssh() {
    docker exec -it "$1" bash
}

docker_prune_container() {
    docker stop $(docker ps -aq) || :
    docker container prune -f
}

docker_prune_image() {
    docker image prune -fa
}

docker_prune_system() {
    docker_prune_container
    docker_prune_image
    docker system prune -fa
}

docker_run() {
    if (($# == 0)); then
        echo "${RED}Illegal number of parameters. image name is required${DEFAULT}"
    else
        docker run --rm -it -p 8080:80 "$@"
    fi
}

docker_build() {
    if (($# == 0)); then
        echo "${RED}Illegal number of parameters. image name is required${DEFAULT}"
    else
        docker build -t "$@" .
    fi
}

docker_start() {
    if (($# == 0)); then
        echo "${RED}Illegal number of parameters. image name is required${DEFAULT}"
    else
        docker build -t "$1" . && docker run --rm -it -p 8080:80 "$1"
    fi
}

docker_compose_up() {
    docker-compose up -d --build --remove-orphans "$@"
}

docker_compose_down() {
    docker-compose down -v --remove-orphans "$@"
}

docker_compose_restart() {
    docker-compose down -v --remove-orphans
    docker-compose up -d --build --remove-orphans "$@"
}

docker_compose_run() {
    docker-compose run --rm "$@"
}

docker_compose_run_many() {
    if (($# == 0)); then
        echo "${RED}Illegal number of parameters. container name and at least one command are required${DEFAULT}"
    else
        container_name="$1"
        shift

        while [ "$1" ]; do
            docker-compose run --rm "$container_name" "$1"
            shift
        done
    fi
}
